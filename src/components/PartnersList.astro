---
// src/components/PartnersList.astro

const partners = [
  { src: "/images/partners/minzdrav-rossii.png", alt: "Минздрав России", url: "#" },
  { src: "/images/partners/minzdrav-rt.png", alt: "Минздрав РТ", url: "#" },
  { src: "/images/partners/roszdravnadzor.jpg", alt: "Росздравнадзор", url: "#" },
  { src: "/images/partners/den-bezopasnosti-paczienta.png", alt: "День безопасности пациента", url: "#" },
  { src: "/images/partners/banner_ocenka-768x432-1.jpg", alt: "Оценка", url: "#" },
  { src: "/images/partners/bbwstvgs7k.jpg", alt: "Партнер", url: "#" },
  { src: "/images/partners/rubrikator.png", alt: "Рубрикатор", url: "#" },
  { src: "/images/partners/takzdorovo.png", alt: "Так здорово", url: "#" },
  { src: "/images/partners/pobeda80_logo_main.png", alt: "Победа 80", url: "#" }
];
---

<div class="partners-section">
  <div class="partners-container">
    <div class="partners-scroll">
      <div class="partners-list">
        {partners.map((partner, index) => (
          <a href={partner.url} class="partner-item" key={index}>
            <img src={partner.src} alt={partner.alt} class="partner-logo" />
          </a>
        ))}
        {/* Дублируем список для бесшовной анимации */}
        {partners.map((partner, index) => (
          <a href={partner.url} class="partner-item" key={`duplicate-${index}`}>
            <img src={partner.src} alt={partner.alt} class="partner-logo" />
          </a>
        ))}
      </div>
    </div>
  </div>
</div>

<style is:global lang="scss">
.partners-section {
  
}

.partners-container {
  overflow: hidden;
  position: relative;
  margin: 0 auto;
  padding: 64px 12px;
  @include container;
}

.partners-scroll {
  overflow: hidden;
  position: relative;
  
  &::before,
  &::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    width: 100px;
    z-index: 2;
    pointer-events: none;
  }
  
  &::before {
    left: 0;
    background: linear-gradient(to right, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%);
  }
  
  &::after {
    right: 0;
    background: linear-gradient(to left, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%);
  }
}

.partners-list {
  display: flex;
  align-items: center;
  gap: 32px;
  padding: 16px 0;
  min-width: min-content;
  height: 75px;
  
  /* Анимация бегущей строки */
  animation: scroll 30s linear infinite;
}

@keyframes scroll {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(calc(-100% / 2));
  }
}

.partner-item {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  text-decoration: none;
  transition: opacity 0.3s ease;
}

.partner-item:hover {
  opacity: 0.8;
}

.partner-logo {
  max-height: 75px;
  max-width: 170px;
  height: auto;
  width: auto;
  object-fit: contain;
  transition: all 0.3s ease;
}

.partner-item:hover .partner-logo {
  filter: grayscale(0%);
  opacity: 1;
}

/* Пауза анимации при наведении */
.partners-scroll:hover .partners-list {
  animation-play-state: paused;
}

/* Адаптивность */
@media (max-width: $breakpoint-md) {
  .partners-list {
    gap: 24px;
  }
  
  .partner-logo {
    max-width: 150px;
  }
  
  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(calc(-100% / 2));
    }
  }
}

@media (max-width: $breakpoint-sm) {
  .partners-list {
    gap: 20px;
  }
  
  .partner-logo {
    max-width: 120px;
  }
  
  .partners-scroll {
    &::before,
    &::after {
      width: 50px;
    }
  }
}
</style>