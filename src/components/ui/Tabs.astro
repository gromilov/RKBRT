---
// src/components/ProfileTabs.astro

interface Tab {
  id: string;
  label: string;
  isActive?: boolean;
}

interface Props {
  tabs: Tab[];
  activeTab?: string;
}

const { 
  tabs,
  activeTab
} = Astro.props;

// Если передан activeTab, обновляем активную вкладку
const processedTabs = tabs.map(tab => ({
  ...tab,
  isActive: activeTab ? tab.id === activeTab : tab.isActive
}));
---

<nav class="profile-tabs">
  <div class="profile-tabs__container">
    {processedTabs.map((tab) => (
      <a 
        class={`profile-tabs__tab ${tab.isActive ? 'profile-tabs__tab--active' : ''}`}
        href={`#${tab.id}`}
        data-tab-id={tab.id}
      >
        <span class="profile-tabs__label">{tab.label}</span>
        {tab.isActive && <div class="profile-tabs__indicator"></div>}
      </a>
    ))}
  </div>
  <div class="profile-tabs__divider"></div>
</nav>

<style lang="scss">
.profile-tabs {
  margin: 36px 0;
  
  &__container {
    display: flex;
    gap: 32px;
  }
  
  &__tab {
    position: relative;
    padding: 12px 0;
    text-decoration: none;
    cursor: pointer;
    transition: color 0.2s ease;
    
    &--active {
      .profile-tabs__label {
        color: $color-text-primary;
        font-weight: 600;
      }
    }
  }
  
  &__label {
    font-size: 14px;
    font-family: 'Gilroy', sans-serif;
    color: #475569;
    transition: color 0.2s ease;
    
    .profile-tabs__tab--active & {
      color: $color-text-primary;
    }
    
    .profile-tabs__tab:not(.profile-tabs__tab--active):hover & {
      color: $color-text-primary;
      opacity: 0.8;
    }
  }
  
  &__indicator {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 101px;
    height: 2px;
    background: #1E6BD0;
    border-radius: 1px;
  }
  
  &__divider {
    width: 100%;
    height: 1px;
    background: #D9DADD;
    margin-top: -1px;
  }
}

@media (max-width: $breakpoint-md) {
  .profile-tabs {
    margin-top: 32px;
    
    &__container {
      gap: 24px;
    }
    
    &__indicator {
      width: 80px;
    }
  }
}

@media (max-width: $breakpoint-sm) {
  .profile-tabs {
    &__container {
      gap: 16px;
    }
    
    &__tab {
      padding: 8px 0;
    }
    
    &__indicator {
      width: 60px;
    }
  }
}
</style>